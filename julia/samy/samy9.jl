include("tiling.jl")
include("plot.jl")

function samy()
	t = Tiling()
	p(x) = add_point!(t, x)
	l(x, y) = link!(t, x, y)
	c(x) = t.points[x]
	ngon(x, y, n) = add_regular_polygon!(t, x, y, n)

	ngon(Point(0, 0), Point(1, 0), 12)
	ngon(3,2,4)
	ngon(4,3,6)
	ngon(5,4,4)
	ngon(6,5,3)
	ngon(5,18,3)
	ngon(13,2, 3)
	ngon(2,1,3)
	ngon(7,6,12)
	ngon(19,18,4)
	ngon(8,29,4)
	ngon(14,13,4)
	ngon(34,33,4)
	ngon(15,34,3)
	ngon(16,15,3)
	l(36,37)
	l(37,38)
	ngon(18,17,3)
	ngon(30,18,3)
	ngon(21,30,3)
	ngon(30,39,3)
	ngon(30,41,4)
	ngon(42,41,3)
	ngon(43,41,3)
	ngon(22,40,12)
	ngon(44,41,4)
	ngon(53,16,4)
	ngon(53,54,4)
	ngon(43,44,6)
	ngon(45,58,4)
	l(43,45)
	ngon(58,57,4)
	ngon(46,59,6)
	ngon(47,63,4)
	ngon(64,63,4)
	ngon(62,61,6)
	ngon(69,68,6)
	ngon(71,68,6)
	ngon(69,74,6)

	return t
end

t = samy()
demean!(t.points)

ndual(t, n) = n == 0 ? t : ndual(dual(t), n - 1)

fig = Figure(size = (1000, 1000))
ax = Axis(fig[1, 1], aspect = DataAspect(), title = "Samy", xlabel = "X", ylabel = "Y")

plot(t, ax, :blue, text = true)

display(fig)
